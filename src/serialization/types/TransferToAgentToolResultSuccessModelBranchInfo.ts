// This file was auto-generated by Fern from our API Definition.

import type * as ElevenLabs from "../../api/index";
import * as core from "../../core";
import type * as serializers from "../index";
import { TransferBranchInfoDefaultingToMain } from "./TransferBranchInfoDefaultingToMain";
import { TransferBranchInfoTrafficSplit } from "./TransferBranchInfoTrafficSplit";

export const TransferToAgentToolResultSuccessModelBranchInfo: core.serialization.Schema<
    serializers.TransferToAgentToolResultSuccessModelBranchInfo.Raw,
    ElevenLabs.TransferToAgentToolResultSuccessModelBranchInfo
> = core.serialization
    .union(core.serialization.discriminant("branchReason", "branch_reason"), {
        defaulting_to_main: TransferBranchInfoDefaultingToMain,
        traffic_split: TransferBranchInfoTrafficSplit,
    })
    .transform<ElevenLabs.TransferToAgentToolResultSuccessModelBranchInfo>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace TransferToAgentToolResultSuccessModelBranchInfo {
    export type Raw =
        | TransferToAgentToolResultSuccessModelBranchInfo.DefaultingToMain
        | TransferToAgentToolResultSuccessModelBranchInfo.TrafficSplit;

    export interface DefaultingToMain extends TransferBranchInfoDefaultingToMain.Raw {
        branch_reason: "defaulting_to_main";
    }

    export interface TrafficSplit extends TransferBranchInfoTrafficSplit.Raw {
        branch_reason: "traffic_split";
    }
}
