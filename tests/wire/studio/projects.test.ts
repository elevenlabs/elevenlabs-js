// This file was auto-generated by Fern from our API Definition.

import { ElevenLabsClient } from "../../../src/Client";
import { mockServerPool } from "../../mock-server/MockServerPool";

describe("Projects", () => {
    test("list", async () => {
        const server = mockServerPool.createServer();
        const client = new ElevenLabsClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            projects: [
                {
                    project_id: "aw1NgEzBg83R7vgmiJt6",
                    name: "My Project",
                    create_date_unix: 1714204800,
                    created_by_user_id: "Vbtgl3bRdj6lk79rYAgx",
                    default_title_voice_id: "JBFqnCBsd6RMkjVDRZzb",
                    default_paragraph_voice_id: "JBFqnCBsd6RMkjVDRZzb",
                    default_model_id: "eleven_multilingual_v2",
                    last_conversion_date_unix: 1714204800,
                    can_be_downloaded: true,
                    title: "My Project",
                    author: "John Doe",
                    description: "This is a description of my project.",
                    genres: ["Novel", "Short Story"],
                    cover_image_url: "https://example.com/cover.jpg",
                    target_audience: "young adult",
                    language: "en",
                    content_type: "Novel",
                    original_publication_date: "2025-01-01",
                    mature_content: false,
                    isbn_number: "978-90-274-3964-2",
                    volume_normalization: true,
                    state: "default",
                    access_level: "viewer",
                    fiction: "fiction",
                    quality_check_on: false,
                    quality_check_on_when_bulk_convert: false,
                    creation_meta: { creation_progress: 0.5, status: "pending", type: "blank" },
                    source_type: "blank",
                    chapters_enabled: true,
                    captions_enabled: true,
                    caption_style: {},
                    public_share_id: "abc123def456789",
                    aspect_ratio: "16:9",
                },
            ],
        };
        server
            .mockEndpoint()
            .get("/v1/studio/projects")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.studio.projects.list();
        expect(response).toEqual({
            projects: [
                {
                    projectId: "aw1NgEzBg83R7vgmiJt6",
                    name: "My Project",
                    createDateUnix: 1714204800,
                    createdByUserId: "Vbtgl3bRdj6lk79rYAgx",
                    defaultTitleVoiceId: "JBFqnCBsd6RMkjVDRZzb",
                    defaultParagraphVoiceId: "JBFqnCBsd6RMkjVDRZzb",
                    defaultModelId: "eleven_multilingual_v2",
                    lastConversionDateUnix: 1714204800,
                    canBeDownloaded: true,
                    title: "My Project",
                    author: "John Doe",
                    description: "This is a description of my project.",
                    genres: ["Novel", "Short Story"],
                    coverImageUrl: "https://example.com/cover.jpg",
                    targetAudience: "young adult",
                    language: "en",
                    contentType: "Novel",
                    originalPublicationDate: "2025-01-01",
                    matureContent: false,
                    isbnNumber: "978-90-274-3964-2",
                    volumeNormalization: true,
                    state: "default",
                    accessLevel: "viewer",
                    fiction: "fiction",
                    qualityCheckOn: false,
                    qualityCheckOnWhenBulkConvert: false,
                    creationMeta: {
                        creationProgress: 0.5,
                        status: "pending",
                        type: "blank",
                    },
                    sourceType: "blank",
                    chaptersEnabled: true,
                    captionsEnabled: true,
                    captionStyle: {},
                    publicShareId: "abc123def456789",
                    aspectRatio: "16:9",
                },
            ],
        });
    });

    test("get", async () => {
        const server = mockServerPool.createServer();
        const client = new ElevenLabsClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = {
            project_id: "aw1NgEzBg83R7vgmiJt6",
            name: "My Project",
            create_date_unix: 1714204800,
            created_by_user_id: "Vbtgl3bRdj6lk79rYAgx",
            default_title_voice_id: "JBFqnCBsd6RMkjVDRZzb",
            default_paragraph_voice_id: "JBFqnCBsd6RMkjVDRZzb",
            default_model_id: "eleven_multilingual_v2",
            last_conversion_date_unix: 1714204800,
            can_be_downloaded: true,
            title: "My Project",
            author: "John Doe",
            description: "This is a description of my project.",
            genres: ["Novel", "Short Story"],
            cover_image_url: "https://example.com/cover.jpg",
            target_audience: "young adult",
            language: "en",
            content_type: "Novel",
            original_publication_date: "2025-01-01",
            mature_content: false,
            isbn_number: "978-90-274-3964-2",
            volume_normalization: true,
            state: "default",
            access_level: "viewer",
            fiction: "fiction",
            quality_check_on: false,
            quality_check_on_when_bulk_convert: false,
            creation_meta: { creation_progress: 0.5, status: "pending", type: "blank" },
            source_type: "blank",
            chapters_enabled: true,
            captions_enabled: true,
            caption_style: {
                template: { key: "key", label: "label", requires_high_fps: true },
                text_font: "text_font",
                text_scale: 1.1,
                text_color: "text_color",
                text_align: "start",
                text_style: "normal",
                text_weight: "normal",
                background_enabled: true,
                background_color: "background_color",
                background_opacity: 1.1,
                word_highlights_enabled: true,
                word_highlights_color: "word_highlights_color",
                word_highlights_background_color: "word_highlights_background_color",
                word_highlights_opacity: 1.1,
                section_animation: { enter_type: "none", exit_type: "none" },
                word_animation: { enter_type: "none", exit_type: "none" },
                character_animation: { enter_type: "none", exit_type: "none" },
                width_pct: 1.1,
                horizontal_placement: { align: "left", translate_pct: 1.1 },
                vertical_placement: { align: "top", translate_pct: 1.1 },
                auto_break_enabled: true,
                max_lines_per_section: 1,
                max_words_per_line: 1,
            },
            public_share_id: "abc123def456789",
            aspect_ratio: "16:9",
            quality_preset: "standard",
            chapters: [
                {
                    chapter_id: "aw1NgEzBg83R7vgmiJt6",
                    name: "Chapter 1",
                    last_conversion_date_unix: 1714204800,
                    conversion_progress: 0.5,
                    can_be_downloaded: true,
                    state: "converting",
                    has_video: true,
                    voice_ids: ["voice_ids"],
                    statistics: {
                        characters_unconverted: 1000,
                        characters_converted: 500,
                        paragraphs_converted: 20,
                        paragraphs_unconverted: 10,
                    },
                    last_conversion_error: "Error message",
                },
            ],
            pronunciation_dictionary_versions: [
                {
                    version_id: "version_id",
                    version_rules_num: 1,
                    pronunciation_dictionary_id: "pronunciation_dictionary_id",
                    dictionary_name: "dictionary_name",
                    version_name: "version_name",
                    permission_on_resource: "admin",
                    created_by: "created_by",
                    creation_time_unix: 1,
                    archived_time_unix: 1,
                },
            ],
            pronunciation_dictionary_locators: [
                { pronunciation_dictionary_id: "pronunciation_dictionary_id", version_id: "version_id" },
            ],
            apply_text_normalization: "auto",
            experimental: { key: "value" },
            assets: [
                {
                    type: "video",
                    video_id: "video_id",
                    filename: "filename",
                    signed_url: "signed_url",
                    signed_preview_url: "signed_preview_url",
                    offset_ms: 1,
                    duration_ms: 1,
                    volume_gain_db: 1.1,
                    muted: true,
                    width: 1,
                    height: 1,
                    codec: "codec",
                    order: "order",
                    preview_job_progress: 1.1,
                    created_at_ms: 1,
                    updated_at_ms: 1,
                    error: "error",
                    thumbnail_interval_seconds: 1.1,
                    thumbnail_size: [1],
                    thumbnail_sheets: [
                        { start_thumbnail_index: 1, thumbnail_count: 1, signed_cloud_url: "signed_cloud_url" },
                    ],
                    start_time_ms: 1,
                    end_time_ms: 1,
                    asset_preview_signed_url: "asset_preview_signed_url",
                    source_video_id: "source_video_id",
                    source_asset_id: "source_asset_id",
                    pending_block_ids: ["pending_block_ids"],
                    import_speech_progress: 1.1,
                    speech_imported: true,
                    current_snapshot_id: "current_snapshot_id",
                },
            ],
            voices: [
                {
                    voice_id: "voice_id",
                    alias: "alias",
                    stability: 1.1,
                    similarity_boost: 1.1,
                    style: 1.1,
                    is_pinned: true,
                    use_speaker_boost: true,
                    volume_gain: 1.1,
                    speed: 1.1,
                },
            ],
            base_voices: [
                {
                    voice_id: "21m00Tcm4TlvDq8ikWAM",
                    name: "Rachel",
                    samples: [
                        {
                            sample_id: "DCwhRBWXzGAHq8TQ4Fs18",
                            file_name: "sample.mp3",
                            mime_type: "audio/mpeg",
                            size_bytes: 1000000,
                            hash: "1234567890",
                            speaker_separation: {
                                voice_id: "DCwhRBWXzGAHq8TQ4Fs18",
                                sample_id: "DCwhRBWXzGAHq8TQ4Fs18",
                                status: "not_started",
                            },
                        },
                    ],
                    category: "professional",
                    fine_tuning: {
                        is_allowed_to_fine_tune: true,
                        state: { eleven_multilingual_v2: "fine_tuned" },
                        verification_failures: ["verification_failures"],
                        verification_attempts_count: 2,
                        manual_verification_requested: false,
                        verification_attempts: [
                            {
                                text: "Hello, how are you?",
                                date_unix: 1714204800,
                                accepted: true,
                                similarity: 0.95,
                                levenshtein_distance: 2,
                                recording: {
                                    recording_id: "CwhRBWXzGAHq8TQ4Fs17",
                                    mime_type: "audio/mpeg",
                                    size_bytes: 1000000,
                                    upload_date_unix: 1714204800,
                                    transcription: "Hello, how are you?",
                                },
                            },
                        ],
                        manual_verification: {
                            extra_text: "Please verify the voice is that of a female.",
                            request_time_unix: 1714204800,
                            files: [
                                {
                                    file_id: "CwhRBWXzGAHq8TQ4Fs18",
                                    file_name: "file.mp3",
                                    mime_type: "audio/mpeg",
                                    size_bytes: 1000000,
                                    upload_date_unix: 1714204800,
                                },
                            ],
                        },
                    },
                    labels: {
                        accent: "American",
                        age: "middle-aged",
                        description: "expressive",
                        gender: "female",
                        use_case: "social media",
                    },
                    description: "A warm, expressive voice with a touch of humor.",
                    preview_url:
                        "https://storage.googleapis.com/eleven-public-prod/premade/voices/9BWtsMINqrJLrRacOk9x/405766b8-1f4e-4d3c-aba1-6f25333823ec.mp3",
                    available_for_tiers: ["creator", "enterprise"],
                    settings: { stability: 1, use_speaker_boost: true, similarity_boost: 1, style: 0, speed: 1 },
                    sharing: {
                        status: "enabled",
                        history_item_sample_id: "DCwhRBWXzGAHq8TQ4Fs18",
                        date_unix: 1714204800,
                        whitelisted_emails: ["example@example.com"],
                        public_owner_id: "DCwhRBWXzGAHq8TQ4Fs18",
                        original_voice_id: "DCwhRBWXzGAHq8TQ4Fs18",
                        financial_rewards_enabled: true,
                        free_users_allowed: true,
                        live_moderation_enabled: true,
                        rate: 0.05,
                        notice_period: 30,
                        disable_at_unix: 1714204800,
                        voice_mixing_allowed: false,
                        featured: true,
                        category: "professional",
                        reader_app_enabled: true,
                        liked_by_count: 100,
                        cloned_by_count: 50,
                        name: "Rachel",
                        description: "A female voice with a soft and friendly tone.",
                        labels: { accent: "American", gender: "female" },
                        review_status: "allowed",
                        enabled_in_library: true,
                        moderation_check: {
                            date_checked_unix: 1714204800,
                            name_value: "Rachel",
                            name_check: true,
                            description_value: "A female voice with a soft and friendly tone.",
                            description_check: true,
                            sample_ids: ["sample1", "sample2"],
                            sample_checks: [0.95, 0.98],
                            captcha_ids: ["captcha1", "captcha2"],
                            captcha_checks: [0.95, 0.98],
                        },
                        reader_restricted_on: [{ resource_type: "read", resource_id: "FCwhRBWXzGAHq8TQ4Fs18" }],
                    },
                    high_quality_base_model_ids: [
                        "eleven_v2_flash",
                        "eleven_flash_v2",
                        "eleven_turbo_v2_5",
                        "eleven_multilingual_v2",
                        "eleven_v2_5_flash",
                        "eleven_flash_v2_5",
                        "eleven_turbo_v2",
                    ],
                    verified_languages: [
                        {
                            language: "en",
                            model_id: "eleven_multilingual_v2",
                            accent: "american",
                            locale: "en-US",
                            preview_url:
                                "https://storage.googleapis.com/eleven-public-prod/premade/voices/9BWtsMINqrJLrRacOk9x/405766b8-1f4e-4d3c-aba1-6f25333823ec.mp3",
                        },
                    ],
                    safety_control: "NONE",
                    voice_verification: {
                        requires_verification: false,
                        is_verified: true,
                        verification_failures: ["verification_failures"],
                        verification_attempts_count: 0,
                        language: "en",
                        verification_attempts: [
                            {
                                text: "Hello, how are you?",
                                date_unix: 1714204800,
                                accepted: true,
                                similarity: 0.95,
                                levenshtein_distance: 2,
                                recording: {
                                    recording_id: "CwhRBWXzGAHq8TQ4Fs17",
                                    mime_type: "audio/mpeg",
                                    size_bytes: 1000000,
                                    upload_date_unix: 1714204800,
                                    transcription: "Hello, how are you?",
                                },
                            },
                        ],
                    },
                    permission_on_resource: "permission_on_resource",
                    is_owner: false,
                    is_legacy: false,
                    is_mixed: false,
                    favorited_at_unix: 1,
                    created_at_unix: 1,
                },
            ],
        };
        server
            .mockEndpoint()
            .get("/v1/studio/projects/21m00Tcm4TlvDq8ikWAM")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.studio.projects.get("21m00Tcm4TlvDq8ikWAM", {
            shareId: "share_id",
        });
        expect(response).toEqual({
            projectId: "aw1NgEzBg83R7vgmiJt6",
            name: "My Project",
            createDateUnix: 1714204800,
            createdByUserId: "Vbtgl3bRdj6lk79rYAgx",
            defaultTitleVoiceId: "JBFqnCBsd6RMkjVDRZzb",
            defaultParagraphVoiceId: "JBFqnCBsd6RMkjVDRZzb",
            defaultModelId: "eleven_multilingual_v2",
            lastConversionDateUnix: 1714204800,
            canBeDownloaded: true,
            title: "My Project",
            author: "John Doe",
            description: "This is a description of my project.",
            genres: ["Novel", "Short Story"],
            coverImageUrl: "https://example.com/cover.jpg",
            targetAudience: "young adult",
            language: "en",
            contentType: "Novel",
            originalPublicationDate: "2025-01-01",
            matureContent: false,
            isbnNumber: "978-90-274-3964-2",
            volumeNormalization: true,
            state: "default",
            accessLevel: "viewer",
            fiction: "fiction",
            qualityCheckOn: false,
            qualityCheckOnWhenBulkConvert: false,
            creationMeta: {
                creationProgress: 0.5,
                status: "pending",
                type: "blank",
            },
            sourceType: "blank",
            chaptersEnabled: true,
            captionsEnabled: true,
            captionStyle: {
                template: {
                    key: "key",
                    label: "label",
                    requiresHighFps: true,
                },
                textFont: "text_font",
                textScale: 1.1,
                textColor: "text_color",
                textAlign: "start",
                textStyle: "normal",
                textWeight: "normal",
                backgroundEnabled: true,
                backgroundColor: "background_color",
                backgroundOpacity: 1.1,
                wordHighlightsEnabled: true,
                wordHighlightsColor: "word_highlights_color",
                wordHighlightsBackgroundColor: "word_highlights_background_color",
                wordHighlightsOpacity: 1.1,
                sectionAnimation: {
                    enterType: "none",
                    exitType: "none",
                },
                wordAnimation: {
                    enterType: "none",
                    exitType: "none",
                },
                characterAnimation: {
                    enterType: "none",
                    exitType: "none",
                },
                widthPct: 1.1,
                horizontalPlacement: {
                    align: "left",
                    translatePct: 1.1,
                },
                verticalPlacement: {
                    align: "top",
                    translatePct: 1.1,
                },
                autoBreakEnabled: true,
                maxLinesPerSection: 1,
                maxWordsPerLine: 1,
            },
            publicShareId: "abc123def456789",
            aspectRatio: "16:9",
            qualityPreset: "standard",
            chapters: [
                {
                    chapterId: "aw1NgEzBg83R7vgmiJt6",
                    name: "Chapter 1",
                    lastConversionDateUnix: 1714204800,
                    conversionProgress: 0.5,
                    canBeDownloaded: true,
                    state: "converting",
                    hasVideo: true,
                    voiceIds: ["voice_ids"],
                    statistics: {
                        charactersUnconverted: 1000,
                        charactersConverted: 500,
                        paragraphsConverted: 20,
                        paragraphsUnconverted: 10,
                    },
                    lastConversionError: "Error message",
                },
            ],
            pronunciationDictionaryVersions: [
                {
                    versionId: "version_id",
                    versionRulesNum: 1,
                    pronunciationDictionaryId: "pronunciation_dictionary_id",
                    dictionaryName: "dictionary_name",
                    versionName: "version_name",
                    permissionOnResource: "admin",
                    createdBy: "created_by",
                    creationTimeUnix: 1,
                    archivedTimeUnix: 1,
                },
            ],
            pronunciationDictionaryLocators: [
                {
                    pronunciationDictionaryId: "pronunciation_dictionary_id",
                    versionId: "version_id",
                },
            ],
            applyTextNormalization: "auto",
            experimental: {
                key: "value",
            },
            assets: [
                {
                    type: "video",
                    videoId: "video_id",
                    filename: "filename",
                    signedUrl: "signed_url",
                    signedPreviewUrl: "signed_preview_url",
                    offsetMs: 1,
                    durationMs: 1,
                    volumeGainDb: 1.1,
                    muted: true,
                    width: 1,
                    height: 1,
                    codec: "codec",
                    order: "order",
                    previewJobProgress: 1.1,
                    createdAtMs: 1,
                    updatedAtMs: 1,
                    error: "error",
                    thumbnailIntervalSeconds: 1.1,
                    thumbnailSize: [1],
                    thumbnailSheets: [
                        {
                            startThumbnailIndex: 1,
                            thumbnailCount: 1,
                            signedCloudUrl: "signed_cloud_url",
                        },
                    ],
                    startTimeMs: 1,
                    endTimeMs: 1,
                    assetPreviewSignedUrl: "asset_preview_signed_url",
                    sourceVideoId: "source_video_id",
                    sourceAssetId: "source_asset_id",
                    pendingBlockIds: ["pending_block_ids"],
                    importSpeechProgress: 1.1,
                    speechImported: true,
                    currentSnapshotId: "current_snapshot_id",
                },
            ],
            voices: [
                {
                    voiceId: "voice_id",
                    alias: "alias",
                    stability: 1.1,
                    similarityBoost: 1.1,
                    style: 1.1,
                    isPinned: true,
                    useSpeakerBoost: true,
                    volumeGain: 1.1,
                    speed: 1.1,
                },
            ],
            baseVoices: [
                {
                    voiceId: "21m00Tcm4TlvDq8ikWAM",
                    name: "Rachel",
                    samples: [
                        {
                            sampleId: "DCwhRBWXzGAHq8TQ4Fs18",
                            fileName: "sample.mp3",
                            mimeType: "audio/mpeg",
                            sizeBytes: 1000000,
                            hash: "1234567890",
                            speakerSeparation: {
                                voiceId: "DCwhRBWXzGAHq8TQ4Fs18",
                                sampleId: "DCwhRBWXzGAHq8TQ4Fs18",
                                status: "not_started",
                            },
                        },
                    ],
                    category: "professional",
                    fineTuning: {
                        isAllowedToFineTune: true,
                        state: {
                            eleven_multilingual_v2: "fine_tuned",
                        },
                        verificationFailures: ["verification_failures"],
                        verificationAttemptsCount: 2,
                        manualVerificationRequested: false,
                        verificationAttempts: [
                            {
                                text: "Hello, how are you?",
                                dateUnix: 1714204800,
                                accepted: true,
                                similarity: 0.95,
                                levenshteinDistance: 2,
                                recording: {
                                    recordingId: "CwhRBWXzGAHq8TQ4Fs17",
                                    mimeType: "audio/mpeg",
                                    sizeBytes: 1000000,
                                    uploadDateUnix: 1714204800,
                                    transcription: "Hello, how are you?",
                                },
                            },
                        ],
                        manualVerification: {
                            extraText: "Please verify the voice is that of a female.",
                            requestTimeUnix: 1714204800,
                            files: [
                                {
                                    fileId: "CwhRBWXzGAHq8TQ4Fs18",
                                    fileName: "file.mp3",
                                    mimeType: "audio/mpeg",
                                    sizeBytes: 1000000,
                                    uploadDateUnix: 1714204800,
                                },
                            ],
                        },
                    },
                    labels: {
                        accent: "American",
                        age: "middle-aged",
                        description: "expressive",
                        gender: "female",
                        use_case: "social media",
                    },
                    description: "A warm, expressive voice with a touch of humor.",
                    previewUrl:
                        "https://storage.googleapis.com/eleven-public-prod/premade/voices/9BWtsMINqrJLrRacOk9x/405766b8-1f4e-4d3c-aba1-6f25333823ec.mp3",
                    availableForTiers: ["creator", "enterprise"],
                    settings: {
                        stability: 1,
                        useSpeakerBoost: true,
                        similarityBoost: 1,
                        style: 0,
                        speed: 1,
                    },
                    sharing: {
                        status: "enabled",
                        historyItemSampleId: "DCwhRBWXzGAHq8TQ4Fs18",
                        dateUnix: 1714204800,
                        whitelistedEmails: ["example@example.com"],
                        publicOwnerId: "DCwhRBWXzGAHq8TQ4Fs18",
                        originalVoiceId: "DCwhRBWXzGAHq8TQ4Fs18",
                        financialRewardsEnabled: true,
                        freeUsersAllowed: true,
                        liveModerationEnabled: true,
                        rate: 0.05,
                        noticePeriod: 30,
                        disableAtUnix: 1714204800,
                        voiceMixingAllowed: false,
                        featured: true,
                        category: "professional",
                        readerAppEnabled: true,
                        likedByCount: 100,
                        clonedByCount: 50,
                        name: "Rachel",
                        description: "A female voice with a soft and friendly tone.",
                        labels: {
                            accent: "American",
                            gender: "female",
                        },
                        reviewStatus: "allowed",
                        enabledInLibrary: true,
                        moderationCheck: {
                            dateCheckedUnix: 1714204800,
                            nameValue: "Rachel",
                            nameCheck: true,
                            descriptionValue: "A female voice with a soft and friendly tone.",
                            descriptionCheck: true,
                            sampleIds: ["sample1", "sample2"],
                            sampleChecks: [0.95, 0.98],
                            captchaIds: ["captcha1", "captcha2"],
                            captchaChecks: [0.95, 0.98],
                        },
                        readerRestrictedOn: [
                            {
                                resourceType: "read",
                                resourceId: "FCwhRBWXzGAHq8TQ4Fs18",
                            },
                        ],
                    },
                    highQualityBaseModelIds: [
                        "eleven_v2_flash",
                        "eleven_flash_v2",
                        "eleven_turbo_v2_5",
                        "eleven_multilingual_v2",
                        "eleven_v2_5_flash",
                        "eleven_flash_v2_5",
                        "eleven_turbo_v2",
                    ],
                    verifiedLanguages: [
                        {
                            language: "en",
                            modelId: "eleven_multilingual_v2",
                            accent: "american",
                            locale: "en-US",
                            previewUrl:
                                "https://storage.googleapis.com/eleven-public-prod/premade/voices/9BWtsMINqrJLrRacOk9x/405766b8-1f4e-4d3c-aba1-6f25333823ec.mp3",
                        },
                    ],
                    safetyControl: "NONE",
                    voiceVerification: {
                        requiresVerification: false,
                        isVerified: true,
                        verificationFailures: ["verification_failures"],
                        verificationAttemptsCount: 0,
                        language: "en",
                        verificationAttempts: [
                            {
                                text: "Hello, how are you?",
                                dateUnix: 1714204800,
                                accepted: true,
                                similarity: 0.95,
                                levenshteinDistance: 2,
                                recording: {
                                    recordingId: "CwhRBWXzGAHq8TQ4Fs17",
                                    mimeType: "audio/mpeg",
                                    sizeBytes: 1000000,
                                    uploadDateUnix: 1714204800,
                                    transcription: "Hello, how are you?",
                                },
                            },
                        ],
                    },
                    permissionOnResource: "permission_on_resource",
                    isOwner: false,
                    isLegacy: false,
                    isMixed: false,
                    favoritedAtUnix: 1,
                    createdAtUnix: 1,
                },
            ],
        });
    });

    test("update", async () => {
        const server = mockServerPool.createServer();
        const client = new ElevenLabsClient({ apiKey: "test", environment: server.baseUrl });
        const rawRequestBody = {
            name: "Project 1",
            default_title_voice_id: "21m00Tcm4TlvDq8ikWAM",
            default_paragraph_voice_id: "21m00Tcm4TlvDq8ikWAM",
        };
        const rawResponseBody = {
            project: {
                project_id: "aw1NgEzBg83R7vgmiJt6",
                name: "My Project",
                create_date_unix: 1714204800,
                created_by_user_id: "Vbtgl3bRdj6lk79rYAgx",
                default_title_voice_id: "JBFqnCBsd6RMkjVDRZzb",
                default_paragraph_voice_id: "JBFqnCBsd6RMkjVDRZzb",
                default_model_id: "eleven_multilingual_v2",
                last_conversion_date_unix: 1714204800,
                can_be_downloaded: true,
                title: "My Project",
                author: "John Doe",
                description: "This is a description of my project.",
                genres: ["Novel", "Short Story"],
                cover_image_url: "https://example.com/cover.jpg",
                target_audience: "young adult",
                language: "en",
                content_type: "Novel",
                original_publication_date: "2025-01-01",
                mature_content: false,
                isbn_number: "978-90-274-3964-2",
                volume_normalization: true,
                state: "default",
                access_level: "viewer",
                fiction: "fiction",
                quality_check_on: false,
                quality_check_on_when_bulk_convert: false,
                creation_meta: { creation_progress: 0.5, status: "pending", type: "blank" },
                source_type: "blank",
                chapters_enabled: true,
                captions_enabled: true,
                caption_style: {
                    template: { key: "key", label: "label" },
                    text_font: "text_font",
                    text_scale: 1.1,
                    text_color: "text_color",
                    text_align: "start",
                    text_style: "normal",
                    text_weight: "normal",
                    background_enabled: true,
                    background_color: "background_color",
                    background_opacity: 1.1,
                    word_highlights_enabled: true,
                    word_highlights_color: "word_highlights_color",
                    word_highlights_background_color: "word_highlights_background_color",
                    word_highlights_opacity: 1.1,
                    section_animation: { enter_type: "none", exit_type: "none" },
                    word_animation: { enter_type: "none", exit_type: "none" },
                    character_animation: { enter_type: "none", exit_type: "none" },
                    width_pct: 1.1,
                    horizontal_placement: { align: "left", translate_pct: 1.1 },
                    vertical_placement: { align: "top", translate_pct: 1.1 },
                    auto_break_enabled: true,
                    max_lines_per_section: 1,
                    max_words_per_line: 1,
                },
                public_share_id: "abc123def456789",
                aspect_ratio: "16:9",
            },
        };
        server
            .mockEndpoint()
            .post("/v1/studio/projects/21m00Tcm4TlvDq8ikWAM")
            .jsonBody(rawRequestBody)
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.studio.projects.update("21m00Tcm4TlvDq8ikWAM", {
            name: "Project 1",
            defaultTitleVoiceId: "21m00Tcm4TlvDq8ikWAM",
            defaultParagraphVoiceId: "21m00Tcm4TlvDq8ikWAM",
        });
        expect(response).toEqual({
            project: {
                projectId: "aw1NgEzBg83R7vgmiJt6",
                name: "My Project",
                createDateUnix: 1714204800,
                createdByUserId: "Vbtgl3bRdj6lk79rYAgx",
                defaultTitleVoiceId: "JBFqnCBsd6RMkjVDRZzb",
                defaultParagraphVoiceId: "JBFqnCBsd6RMkjVDRZzb",
                defaultModelId: "eleven_multilingual_v2",
                lastConversionDateUnix: 1714204800,
                canBeDownloaded: true,
                title: "My Project",
                author: "John Doe",
                description: "This is a description of my project.",
                genres: ["Novel", "Short Story"],
                coverImageUrl: "https://example.com/cover.jpg",
                targetAudience: "young adult",
                language: "en",
                contentType: "Novel",
                originalPublicationDate: "2025-01-01",
                matureContent: false,
                isbnNumber: "978-90-274-3964-2",
                volumeNormalization: true,
                state: "default",
                accessLevel: "viewer",
                fiction: "fiction",
                qualityCheckOn: false,
                qualityCheckOnWhenBulkConvert: false,
                creationMeta: {
                    creationProgress: 0.5,
                    status: "pending",
                    type: "blank",
                },
                sourceType: "blank",
                chaptersEnabled: true,
                captionsEnabled: true,
                captionStyle: {
                    template: {
                        key: "key",
                        label: "label",
                    },
                    textFont: "text_font",
                    textScale: 1.1,
                    textColor: "text_color",
                    textAlign: "start",
                    textStyle: "normal",
                    textWeight: "normal",
                    backgroundEnabled: true,
                    backgroundColor: "background_color",
                    backgroundOpacity: 1.1,
                    wordHighlightsEnabled: true,
                    wordHighlightsColor: "word_highlights_color",
                    wordHighlightsBackgroundColor: "word_highlights_background_color",
                    wordHighlightsOpacity: 1.1,
                    sectionAnimation: {
                        enterType: "none",
                        exitType: "none",
                    },
                    wordAnimation: {
                        enterType: "none",
                        exitType: "none",
                    },
                    characterAnimation: {
                        enterType: "none",
                        exitType: "none",
                    },
                    widthPct: 1.1,
                    horizontalPlacement: {
                        align: "left",
                        translatePct: 1.1,
                    },
                    verticalPlacement: {
                        align: "top",
                        translatePct: 1.1,
                    },
                    autoBreakEnabled: true,
                    maxLinesPerSection: 1,
                    maxWordsPerLine: 1,
                },
                publicShareId: "abc123def456789",
                aspectRatio: "16:9",
            },
        });
    });

    test("delete", async () => {
        const server = mockServerPool.createServer();
        const client = new ElevenLabsClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { status: "ok" };
        server
            .mockEndpoint()
            .delete("/v1/studio/projects/21m00Tcm4TlvDq8ikWAM")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.studio.projects.delete("21m00Tcm4TlvDq8ikWAM");
        expect(response).toEqual({
            status: "ok",
        });
    });

    test("convert", async () => {
        const server = mockServerPool.createServer();
        const client = new ElevenLabsClient({ apiKey: "test", environment: server.baseUrl });

        const rawResponseBody = { status: "ok" };
        server
            .mockEndpoint()
            .post("/v1/studio/projects/21m00Tcm4TlvDq8ikWAM/convert")
            .respondWith()
            .statusCode(200)
            .jsonBody(rawResponseBody)
            .build();

        const response = await client.studio.projects.convert("21m00Tcm4TlvDq8ikWAM");
        expect(response).toEqual({
            status: "ok",
        });
    });
});
